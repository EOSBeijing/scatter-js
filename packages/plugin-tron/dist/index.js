"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_scatterjsCore=require("scatterjs-core"),proxy=function(a,b){return new Proxy(a,b)},ScatterTron=/*#__PURE__*/function(a){function b(){return(0,_classCallCheck2.default)(this,b),(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(b).call(this,_scatterjsCore.Blockchains.TRX,_scatterjsCore.PluginTypes.BLOCKCHAIN_SUPPORT))}return(0,_inherits2.default)(b,a),(0,_createClass2.default)(b,[{key:"hookProvider",value:function a(){throw new Error("Tron hook provider not enabled yet.")}},{key:"signatureProvider",value:function a(){0>=arguments.length?void 0:arguments[0];return function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(a=_scatterjsCore.Network.fromJson(a),!a.isValid())throw Error.noNetwork();var d="".concat(a.protocol,"://").concat(a.hostport()),e=a.hasOwnProperty("chainId")&&a.chainId.length?a.chainId:c.chainId;return b.trx.sign=function(c){return new Promise(function(d){var e={transaction:c,participants:[b.defaultAddress.base58]},f={transaction:e,blockchain:_scatterjsCore.Blockchains.TRX,network:a,requiredFields:{}};_scatterjsCore.SocketService.sendApiRequest({type:"requestSignature",payload:f}).then(function(a){return d(a.signatures)})})},b}}}]),b}(_scatterjsCore.Plugin);exports.default=ScatterTron,"undefined"!=typeof window&&(window.ScatterTron=ScatterTron);